<div class="col-md-3">
  <span>Duration: <%= duration_of_interval_in_words(passage.duration.seconds) %></span>
</div>
<div class="col-md-3">
  <span>Commences on: <%= to_preferred_time_format(passage.start_time) %></span>
</div>
<div class="col-md-3">
  <span>Concludes on: <%= to_preferred_time_format(passage.close_time) %></span>
</div>
<div class="col-md-3">
  <button type="button" class="btn btn-success pull-right" data-toggle="modal" data-target="#confirmation-dialog_<%= passage.id %>">Commence</button>
  <div class="modal fade bd-example-modal-sm" id="confirmation-dialog_<%= passage.id %>" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <%= bootstrap_form_for(passage, :url => commence_passage_path(passage.id), method: :put)  do |form| %>
            <div class="modal-body">
              <%= form.datetime_field :close_time, :class => "col-10 form-control", :value => (Time.current+2.days).strftime("%Y-%m-%dT%H:%M") %>
              <p>The passage will be open for candidates right now. Check the closing date and click on OK to
                continue...</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-warning" data-dismiss="modal">Close</button>
              <%= submit_tag('Ok', class: 'btn btn-success passage_action_buttons') %>
            </div>
        <% end %>
      </div>
    </div>
  </div>
</div>